---
cdiVersion: 0.7.0
containerEdits:
  # deviceNodes:
  # - path: /dev/nvidia-modeset
  # - path: /dev/nvidia-uvm
  # - path: /dev/nvidiactl
  # env:
  # - NVIDIA_VISIBLE_DEVICES=void
  env:
  - LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libnvidia-ml.so.535.54.03
  # hooks:
  # - args:
  #   - nvidia-ctk
  #   - hook
  #   - update-ldcache
  #   - --folder
  #   - /usr/lib/x86_64-linux-gnu
  #   hookName: createContainer
  #   path: /usr/bin/nvidia-ctk
  mounts:
    #  - containerPath: /run/nvidia-persistenced/socket
    #    hostPath: /run/nvidia-persistenced/socket
    #    options:
    #    - ro
    #    - nosuid
    #    - nodev
    #    - bind
    #    - noexec
  - containerPath: /usr/bin/nvidia-cuda-mps-control
    hostPath: /root/tesla/535.54.03/nvidia-cuda-mps-control
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/bin/nvidia-cuda-mps-server
    hostPath: /root/tesla/535.54.03/nvidia-cuda-mps-server
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/bin/nvidia-debugdump
    hostPath: /root/tesla/535.54.03/nvidia-debugdump
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/bin/nvidia-persistenced
    hostPath: /root/tesla/535.54.03/nvidia-persistenced
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/bin/nvidia-smi
    hostPath: /root/tesla/535.54.03/nvidia-smi
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /etc/vulkan/implicit_layer.d/nvidia_layers.json
    hostPath: /root/tesla/535.54.03/nvidia_layers.json
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libEGL_nvidia.so.535.54.03
    hostPath: /root/tesla/535.54.03/libEGL_nvidia.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libGLESv1_CM_nvidia.so.535.54.03
    hostPath: /root/tesla/535.54.03/libGLESv1_CM_nvidia.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libGLESv2_nvidia.so.535.54.03
    hostPath: /root/tesla/535.54.03/libGLESv2_nvidia.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libGLX_nvidia.so.535.54.03
    hostPath: /root/tesla/535.54.03/libGLX_nvidia.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libcuda.so.535.54.03
    hostPath: /root/tesla/535.54.03/libcuda.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libcudadebugger.so.535.54.03
    hostPath: /root/tesla/535.54.03/libcudadebugger.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvcuvid.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvcuvid.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-allocator.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-allocator.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-cfg.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-cfg.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-egl-gbm.so.1.1.0
    hostPath: /root/tesla/535.54.03/libnvidia-egl-gbm.so.1.1.0
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-eglcore.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-eglcore.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-encode.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-encode.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-fbc.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-fbc.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-glcore.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-glcore.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-glsi.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-glsi.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-glvkspirv.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-glvkspirv.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-gtk2.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-gtk2.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-gtk3.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-gtk3.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-ml.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-ml.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-ngx.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-ngx.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-nvvm.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-nvvm.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-opencl.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-opencl.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-opticalflow.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-opticalflow.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-pkcs11-openssl3.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-pkcs11-openssl3.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-pkcs11.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-pkcs11.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-ptxjitcompiler.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-ptxjitcompiler.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-rtcore.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-rtcore.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-tls.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-tls.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-vulkan-producer.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-vulkan-producer.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvidia-wayland-client.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvidia-wayland-client.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/lib/x86_64-linux-gnu/libnvoptix.so.535.54.03
    hostPath: /root/tesla/535.54.03/libnvoptix.so.535.54.03
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/share/nvidia/nvoptix.bin
    hostPath: /root/tesla/535.54.03/nvoptix.bin
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /lib/firmware/nvidia/535.54.03/gsp_ga10x.bin
    hostPath: /root/tesla/535.54.03/gsp_ga10x.bin
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /lib/firmware/nvidia/535.54.03/gsp_tu10x.bin
    hostPath: /root/tesla/535.54.03/gsp_tu10x.bin
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/share/egl/egl_external_platform.d/10_nvidia_wayland.json
    hostPath: /root/tesla/535.54.03/10_nvidia_wayland.json
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/share/egl/egl_external_platform.d/15_nvidia_gbm.json
    hostPath: /root/tesla/535.54.03/15_nvidia_gbm.json
    options:
    - ro
    - nosuid
    - nodev
    - bind
  - containerPath: /usr/share/glvnd/egl_vendor.d/10_nvidia.json
    hostPath: /root/tesla/535.54.03/10_nvidia.json
    options:
    - ro
    - nosuid
    - nodev
    - bind
devices:
- containerEdits:
    deviceNodes:
    - hostPath: /dev/vfio/75
      path: /dev/nvidia0
  name: "0"
- containerEdits:
    deviceNodes:
    - hostPath: /dev/vfio/76
      path: /dev/nvidia1
  name: "1"
- containerEdits:
    deviceNodes:
    - hostPath: /dev/vfio/75
      path: /dev/nvidia0
    - hostPath: /dev/vfio/76
      path: /dev/nvidia1
  name: all
kind: nvidia.com/gpu